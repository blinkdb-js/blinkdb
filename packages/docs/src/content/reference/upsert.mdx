---
title: "upsert()"
package: "blinkdb"
---

# upsert()

Inserts an entity into the table, or updates it if an entity with the given primary key already exists.

Returns the primary key of the inserted/updated item.

```ts
// Insert a new entity
const aliceId = await upsert(userTable, { id: uuid(), name: "Alice", age: 23 });
// Update the entity we just created
await upsert(userTable, { id: aliceId, name: "Alice", age: 16 });
```

| Parameter | Description                                           |
| --------- | ----------------------------------------------------- |
| `table`   | The table created by [`createTable()`](createtable) . |
| `item`    | The item to insert/update.                            |

Consider [`upsertMany()`](upsertmany) if you want to upsert many items at once.